enum PositionStatus {
    OPEN
    CLOSED
}

enum OrderStatus {
    ACTIVE
    COMPLETED
    CANCELLED
    OUT_OF_FOUNDS
}
enum OrderSide {
    SHORT
    LONG
}

enum OrderSide {
    LONG
    SHORT
}

type Market @entity {
    id: ID! @unique @index
    ticker: String!
    tickSize: BigInt!
    lifetime: BigInt!
    initialMargin: Int!
    maintenanceMargin: Int!
    contractUnit: Int!
    blockHeight: BigInt!
    timestamp: DateTime!
    dailyVolume: BigInt!
    latestOraclePrice: BigInt!
}

type Order @entity {
    id: ID! @unique @index
    market: Market!
    price: BigInt!
    quantity: BigInt!
    side: OrderSide!
    who: String
    blockHeight: BigInt!
    timestamp: DateTime!
    initialQuantity: BigInt!
    status: OrderStatus!
}

type Position @entity {
    id: ID!
    market: Market!
    price: BigInt!
    quantity: BigInt!
    quantityLeft: BigInt!
    long: String!
    short: String!
    blockHeight: BigInt!
    timestamp: DateTime!
    status: PositionStatus
}

type OraclePrice @entity {
    id: ID!
    market: Market!
    price: BigInt!
    blockHeight: BigInt!
    timestamp: DateTime!
}

type AggregatedOrdersByPrice @entity {
    id: ID!
    price: BigInt!
    quantity: BigInt!
    market: Market!
    side: OrderSide!
}

type LiquidationPrice @entity {
    id: ID!
    user: String!
    side: OrderSide!
    cumulativeValue: BigInt!
    cumulativeQuantity: BigInt!
    liquidationPrice: BigInt!
    market: Market!
}

type UnrealizedProfitLose @entity {
    id: ID!
    value: BigInt!
    market: Market!
    user: String!
}




