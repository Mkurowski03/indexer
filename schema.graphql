enum PositionStatus {
    OPEN
    CLOSED
}

enum OrderStatus {
    ACTIVE
    COMPLETED
    CANCELLED
    OUT_OF_FOUNDS
}

type Market @entity {
    id: ID! @unique @index
    ticker: String
    tickSize: BigInt
    lifetime: BigInt
    initialMargin: BigInt
    maintananceMargin: BigInt
    contractUnit: BigInt
    blockHeight: BigInt!
    timestamp: DateTime!
}

type Order @entity {
    id: ID! @unique @index
    market: Market!
    price: BigInt!
    quantity: BigInt!
    side: String
    who: String
    blockHeight: BigInt!
    timestamp: DateTime!
    initialQuantity: BigInt!
    status: OrderStatus!
}

type Position @entity {
    id: ID!
    market: Market!
    price: BigInt!
    quantity: BigInt!
    quantityLeft: BigInt!
    long: String
    short: String
    blockHeight: BigInt!
    timestamp: DateTime!
    initialPrice: BigInt!
    status: PositionStatus

}

type OraclePrice @entity {
    id: ID!
    market: Market!
    price: BigInt!
    blockHeight: BigInt!
    timestamp: DateTime!
}

type AggregatedOrdersByPrice @entity {
    id: ID!
    price: BigInt!
    quantity: BigInt!
    market: Market!
    side: String!
}

type DailyVolume @entity {
    id: ID!
    volume: BigInt!
}


